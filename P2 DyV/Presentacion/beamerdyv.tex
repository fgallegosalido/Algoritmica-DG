% Pablo Baeyens (@pbaeyens)
% Email: pbaeyens31+github@gmail.com
% Licencia: CC BY-SA 3.0

%% Paquetes y configuración %

% Beamer
\PassOptionsToPackage{unicode}{hyperref}  % Evita errores con caracteres no ASCII
\PassOptionsToPackage{naturalnames}{hyperref} % tex.stackexchange.com/questions/10555
\documentclass[compress]{beamer}

% Idioma
\usepackage[spanish]{babel} % Traducciones
\usepackage[utf8]{inputenc} % Uso de caracteres UTF-8
\usepackage{lmodern}        % Fuentes de tamaño arbitrario
\usepackage[T1]{fontenc}    % Permite copiar y evita errores
\uselanguage{Spanish}       % Traducciones beamer
\languagepath{Spanish}      % (tex.stackexchange.com/questions/168208)

% Matemáticas
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}

% Colores
\definecolor{backg}{HTML}{F2F2F2}    % Fondo
\definecolor{title}{HTML}{bdc3d1}    % Títulos
\definecolor{comments}{HTML}{BDBDBD} % Comentarios
\definecolor{keywords}{HTML}{08388c} % Palabras clave
\definecolor{strings}{HTML}{FA5858}  % Strings
\definecolor{links}{HTML}{2C2C95}    % Enlaces
\definecolor{bars}{HTML}{045FB4}     % Barras (gráfico)

% Código
\usepackage{listings}
\lstset{
language=[LaTeX]TeX,
basicstyle=\footnotesize,
morekeywords={href,uselanguage,languagepath,column},
otherkeywords={pause,usetheme,usecolortheme,useinnertheme,titlepage,tableofcontents,subtitle},
breaklines=true,
backgroundcolor=\color{backg},
keywordstyle=\color{keywords},
commentstyle=\color{comments},
stringstyle=\color{strings},
tabsize=2,
% Acentos, ñ, ¿, ¡ (tex.stackexchange.com/questions/24528)
extendedchars=true,
literate={á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1
         {ú}{{\'u}}1 {ñ}{{\~n}}1 {¡}{{\textexclamdown}}1
         {¿}{{?`}}1
}

% Gráficos
\usepackage{pgfplots}
\pgfplotsset{width=7cm,compat=1.8} % Opciones para gráficos

% Columnas
\usepackage{multicol}

% Emoticonos
\usepackage{wasysym}

% tikz
\usepackage{tikz}
\usetikzlibrary{mindmap,trees,shadows}
\tikzset{ % Genera overlays
    invisible/.style={opacity=0},
    visible on/.style={alt={#1{}{invisible}}},
    alt/.code args={<#1>#2#3}{\alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}}},
}

%% Comandos %%
\newcommand{\ejemplo}[1]{\lstinputlisting{./examples/#1}} % Mostrar código de ejemplos
\newcommand{\muestra}[1]{\input{./examples/#1}}           % Mostrar ejemplos
\newcommand{\seccion}[1]{\input{./sections/#1}}           % Incluir secciones
\newcommand{\espacio}{\vspace*{\baselineskip}}            % Añade espacios
\newcommand{\beamer}{\texttt{beamer} }                    % Estilo único para beamer
\newcommand{\enlace}[3]{\href{#1}{\textbf{#2}} - {\small #3}}  % Estílo único para refs
\newcommand{\comando}[1]{{\color{black}\textbackslash}{\color{keywords}#1}}

%% Temas %%
% Tema y tema de color
  \usetheme{Szeged}
  \usecolortheme{crane}
% \useinnertheme{circles}
  \setbeamercovered{transparent}
% Colores bloques
%  \setbeamercolor{block title}{bg=title,fg=links}
%  \setbeamercolor{block body}{bg=backg,fg=black}
%  \setbeamercolor{block title alerted}{fg=red!70!black,bg=title!92!red}
%  \setbeamercolor{block body alerted}{fg=black,bg=backg}
%  \setbeamercolor{block title example}{fg=green!70!black,bg=title!92!green}
%  \setbeamercolor{block body example}{fg=black,bg=backg}
% Enlaces (tex.stackexchange.com/questions/13423)
\hypersetup{colorlinks,linkcolor=,urlcolor=links}
% Quita enlaces de navegación (stackoverflow.com/questions/3017030)
\setbeamertemplate{navigation symbols}{}
% Quita barra inferior (stackoverflow.com/questions/1435837)
\setbeamertemplate{footline}{}
% Evita warnings boxes
\hfuzz=20pt
\vfuzz=20pt
% Evita wranings itemize
\renewcommand\textbullet{\ensuremath{\bullet}}

% tikz
\usepackage{tikz}
\usetikzlibrary{shapes.multipart}

%% Título y otros %%
\title{Presentación práctica de eficiencia}                                               % Título
\subtitle{Asignatura: Algorítmica}                                  % Subtítulo
\author{Rubén Morales Pérez
		\and Francisco Javier Morales Piqueras
		\and Bruno Santindrian Manzanedo
		\and Ignacio de Loyola Barragan Lozano
		\and Francisco Leopoldo Gallego Salido}
\date{\today}                                                            % Fecha


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% Presentación %%
\begin{document}

\begin{frame}
\titlepage
\end{frame}
\begin{frame}{Índice}
  \hypertarget{index}{}
  \tableofcontents
\end{frame}


\section{Presentación}
\subsection{Introducción}
\begin{frame}
	\begin{block}{Eficiencia}
	Divide y vencerás es una técnica algorítmica que consiste en resolver un problema 			diviéndolo en problemas más pequeños y combinando las soluciones. 
	El proceso de división continúa hasta que los subproblemas llegan a ser lo 					suficientemente sencillos como para una resolución directa.
	El hecho de que el tamaño de los subproblemas sea estrictamente menor que el tamaño 			original del problema nos garantiza la convergencia hacia los casos elementales.				\end{block}
	
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Automatización}
\begin{frame}
	\begin{block}{Script}
		Podemos obtener los datos fijando el n\'umero de vectores usados.
	\end{block}
	
	\begin{exampleblock}{script.sh}
	g++ -std=c++11 ../src/mezcla.cpp

	nelementos=10

	while [ \$nelementos -lt 2500 ]; do
    
    		./a.out \$nelementos 200 3
    
    		let nelementos=nelementos+25
	
	done
	\end{exampleblock}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}
	\begin{block}{Script}
		Si queremos fijar el n\'umero de vectores usaremos
	\end{block}
	
	\begin{exampleblock}{script.sh}
	kvectores=10

	while [ \$kvectores -lt 2500 ]; do
    
    		./a.out 200 \$kvectores 2
    	
    		let kvectores=kvectores+25

	done
	\end{exampleblock}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}
	\begin{block}{Script}
	Datos en 3 dimensiones, número de vectores, elementos del vector, y tiempo del algoritmo
	\end{block}
	
	\begin{exampleblock}{script.sh}
	nelementos=10

	nvectores=10

	while [ \$nelementos -lt 1000 ]; do
   	
   		./a.out \$nelementos 10 1
   
   		./a.out \$nelementos 110 1
   
   		./a.out \$nelementos 210 1
   
   		./a.out \$nelementos 310 1
   		
   		./a.out \$nelementos 410 1
   
   		./a.out \$nelementos 510 1
   
   		./a.out \$nelementos 610 1
   
   		./a.out \$nelementos 710 1
   
   		./a.out \$nelementos 810 1
   
   		./a.out \$nelementos 910 1

   		let nelementos=nelementos+100
	done
	\end{exampleblock}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}
	\begin{block}{Scripts de gnuplot}
		Podemos hacer que gnuplot automatice su trabajo.
		
		Suponemos que el fichero donde están los datos es "datos.dat", los scripts de 				gnuplot se ejecutan:
		
		\hspace{2cm}\$ gnuplot algoritmo.gp
	\end{block}
	\pause
	
	\begin{columns}

	\begin{column}{5cm}
	\begin{exampleblock}{algoritmo.gp}
	set terminal pngcairo
	
	set output "grafica.png"

	set title "..."

	set xlabel "Numero de vectores/elementos del vector"

	set ylabel "Tiempo (s)"

	set fit quiet

	f(x) = ...

	fit f(x) "datos.dat" via a

	plot "datos.dat", f(x)
	\end{exampleblock}
	\end{column}
	\pause
	
	\begin{column}{5cm}
	\begin{block}{Funciones ajustadas}
		\[f(x) = a*x\]
		\[g(x) = a*x*x\]
		\[h(x) = a*x*(log(x)/log(2))\]
	\end{block}
	\end{column}
	
	\end{columns}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
	\begin{alertblock}{Ordenador usado para la ejecuci\'on}
	HP Pavilion g series (Pavilion g6)

	Sistema operativo: ubuntu 14.04 LTS

	Memoria: 3.8 GiB (4Gb)

	Procesador: Inter Core i3-2330M CPU @ 2.20GHz x 4

	Gráficos: Intel Sandybridge Mobile

	Tipo de SO: 64 bits

	Disco: 487.9 GB	
	\end{alertblock}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

















%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Comparación de preferencias}
\input{./Ejercicios/beamer_opcional.tex}
\end{document}
